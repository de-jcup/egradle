<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Virtual root project</title>
</head>

<body>
	<img src="./../images/egradle-banner_128x128.png" />
	<a href="../user_guide.html">User guide</a>
	<h1>Virtual root project</h1>
	<ul>
		<li><a href="#concept">About the concept</a></li>
		<li><a href="#example">An example</a></li>
		<li><a href="#added_files">Adding new files or folders</a></li>
		<li><a href="#removing_files">Removing files or folders</a></li>
		<li><a href="#refresh">How to update/refresh</a></li>
		<li><a href="#remove">How to remove</a></li>
		<li><a href="#change_root_project">Changing the root project
				in preferences</a></li>
		<li><a href="#share_project">Version control (GIT)</a></li>
		<li><a href="#restrictions">Restrictions</a></li>
	</ul>
	<h2 id="concept">About the concept</h2>
	<p>Inside a gradle root project you have got at least
	<ul>
		<li>build.gradle</li>
		<li>gradle.properties</li>
		<li>settings.gradle</li>
		<li>sub projects</li>
		<li><i>maybe additional folders</i></li>
		<li><i>maybe additional files</i></li>
	</ul>

	So how can we work with root project content? We have got following
	possibilities:
	<ol>
		<li><b>Import the root project as an eclipse project</b> and have
			all resource duplicated in "Search", "Open Type", have wrong links to
			parts not natured/parsed etc.<i>(inconvenient + slow + problems)</i>
		</li>
		<li>Do not import the root project as an eclipse project but <b>open
				content in external editors</b> instead <i>(inconvenient)</i>
		</li>
		<li>Last but not least you can <b>create a temporary project,
				create linked files and linked folders</b> to the parts you want to have
			<i>(very much of work)</i>
		</li>
	</ol>

	<p>I preferred the temporary project approach but I didn't like the
		manual work to create links etc... So what about having this been done
		automatically?</p>

	<p>This is exact what the so called "Virtual root project" does: By
		clicking a button inside the EGradle toolbar you are able to
		(re-)create a "Virtual root project" of your current set gradle root
		project. The virtual root project will contain all folders and files
		of gradle root project folder being not already imported as an eclipse
		project into current workspace.</p>
	<p>
		<a href="#top">Top</a>
	</p>
	<br />
	<br />

	<h2 id="example">An example</h2>
	There is a root project folder given called "test-rootproject". It's
	content looks like shown in next image:
	<p>
		<img src="images/egradle-virtualrootproject-example-explorer.png" />
	</p>
	The both projects were already imported into eclipse workspace:
	<p>
		<img src="images/egradle-virtualrootproject-example-before-click.png" />
	</p>
	After clicking the red marked toolbar button the virtual root project
	shows up. It contains NOT the both already imported projects but only
	the missing stuff:
	<p>
		<img src="images/egradle-virtualrootproject-example-after-click.png" />
	</p>
	If you delete e.g. "testproject1" (without content delete!) and press
	the toolbar button again, the "testproject1" sub folder will be shown
	again inside the virtual root project.
	<p>
		<a href="#top">Top</a>
	</p>
	<br />
	<br />


	<h2 id="added_files">Adding new files or folders</h2>
	<p>When you add a new file or folder to the base folder of the
		virtual root project - as shown in next image - the folder/file will
		NOT be created to the virtual project but inside the original gradle
		root project folder (this ensures you do not accidently add/commit something from virtual root project)</p>
	<img src="images/egradle-virual-rootproject-create_new_folder.png" />
	<p>The virtual root project contains only a link to origin
		file/folder. Inside the linked folders new created files/folders will be
		simply created in link target and shown as normal files.e</p>
	<p>
		<img src="images/egradle-virtual-rootproject_new_file_as_link.png" />
	</p>
	<p>
		<a href="#top">Top</a>
	</p>
	<br />
	<br />
	<h2 id="removing_files">Removing files or folders</h2>
	When you delete one of the linked files/folders in virtual root project, eclipse will warn
	you that only the link will be deleted but origin still exists:
	<p>
		<img src="images/egradle-virtual-rootproject_delete_linked_folder.png" />
	</p>
	<p>
		EGradle is aware of your delete attempt and will support you to delete the file in real root folder too. 
		A dialog ask you about the deletion:
	</p>
	<p>
		<img src="images/egradle-virtual-rootproject_delete_origin_file_not_only_link.png"/>
	</p>
	<p>Just press <code>Yes</code> button and the file is deleted</p>
	<p>
		<a href="#top">Top</a>
	</p>
	<br />
	<br />


	<h2 id="refresh">How to update/refresh project</h2>
	<h3>Normal refresh</h3>
	Like a normal project, you can use F5 to refresh the project.
	<h3 id="recreated">Full recreate</h3>
	<p>
	<table border='0'>
		<tr>
			<td><img src="images/egradle-virtualrootproject-recreate.png" /></td>
			<td><p>
			A simple click to the button does recreate it again from
				scratch. At doing this current already opened/imported gradle
				projects are recognized again.</p><p><i>(If there occurs an errror on virtual root project creation - e.g. "cannot create link to ..." please simply press the button again. The problem is well known but currently not fixed)</i></p></td>
		</tr>
		<tr>
			<td><img src="images/info.png" /></td>
			<td>If your team provider does not automatically connect the
				project to your SCM you have to <a href="#share_project">connect
					it</a> again.
			</td>
		</tr>
	</table>
	</p>
	<p>
		<a href="#top">Top</a>
	</p>
	<br />
	<br />
	<h2 id="remove">How to remove the virtual root project</h2>
	Select the project and press DEL as you would do on any other project.
	You can also check the 'delete content' check box.
	<p>
		<a href="#top">Top</a>
	</p>
	<br />
	<br />
	<h2 id="change_root_project">Changing the root project in
		preferences</h2>
	If the virtual root project is inside workspace it will be
	automatically
	<a href="#recreated">re-created</a>
	<p>
		<a href="#top">Top</a>
	</p>
	<br />
	<br />
	<h2 id="share_project">Version control (GIT)</h2>
	Currently only GIT is supported.
	<h3>GIT</h3>
	When you call "Team - share Project..." on the virtual root project you
	are able to
	<b>connect it with your GIT repository</b> like any other eclipse
	project
	<br> The GIT team provider decorations and the GIT staging is done
	as usual. Normally the virtual root project should be automatically connected to your GIT repository when 
	it is created.
	<p>
		<a href="#top">Top</a>
	</p>
	<br />
	<br />
	<h2 id="restrictions">Restrictions</h2>
	The files
	<i>.gitignore</i> and
	<i>.project</i> are NOT from root folder but from virtual root project
	itself! If you want to change /commit these two root folder files you
	must do the changes outside eclipse.
	<p>
		<a href="#top">Top</a>
	</p>
</body>
</html>